if(CJW&&CJW.jfp&&CJW.jfp.widget&&CJW.jfp.widget.Tooltip&&CJW.jfp.widget.Tooltip.defaults){CJW.jfp.widget.Tooltip.defaults.keepFocus=false}var citiGlobal={};citiGlobal.apps={};citiGlobal.apps.ain={};citiGlobal.apps.pnt={};citiGlobal.apps.sec={};citiGlobal.apps.cards={};citiGlobal.apps.cards.creditLimit={};citiGlobal.apps.cards.cardReissue={};citiGlobal.common=(function(a,b){return{testModule:(function(){var e=10;var d=20;function c(f){}return{publicTestVar1:1,publicTestVar2:2,getTest1:function(f){return e},getTest2:function(f){return d}}}()),passwordStrengthModule:(function(){function d(j,f){var h=[];for(var g=0,e=f.length;g<e;g++){h.push('<div class="cM-icon-wrapper validation-'+(g+1)+'-wrapper" data-position="'+(g+1)+'">');h.push('<span class="cM-spriteBase cM-redXIcon validation-'+(g+1)+'-icon"></span>');h.push('<span class="cM-iconText validation-'+(g+1)+'-icon-text">'+f[g].message+"</span>");h.push("</div>")}jQuery("#"+j.attr("id")+"-info").find(".cbolui-pStrength-rules").html(h.join(""))}function c(j,f){var g,e,h=j.parents(".cF-value").find(".cF-postInputText");jQuery("#"+j.attr("id")+"-info").clone().appendTo(h);g=h.find("#"+j.attr("id")+"-info").attr("id",j.attr("id")+"-info-resp");e=h.find(".cM-pStrength-text");e.after(e.clone().attr("id",e.attr("id")+"-neg").addClass("cM-pStrength-text-neg"));e.after(e.clone().attr("id",e.attr("id")+"-custom").addClass("cM-pStrength-text-custom cM-responsiveHide"));e.addClass("cM-pStrength-text-pos");h.find(".cM-pStrength-text-neg").html('<span class="cM-spriteBase cM-redXIcon"></span>'+jQuery("#"+f.attr("id")+"-info").text());j.on("focus.cbolui-pStrength-Resp",{postInputText:h},function(k){var m=k.data.postInputText,l=m.find("#"+this.id+"-info-resp");l.removeClass("cbolui-hidden");m.find(".cM-pStrength-text").not(".cM-pStrength-text-custom").removeClass("cM-responsiveShow").addClass("cM-responsiveHide")}).on("blur.cbolui-pStrength-Resp",{postInputText:h},function(k){var m=k.data.postInputText,l=m.find("#"+this.id+"-info-resp");l.addClass("cbolui-hidden");if(l.hasClass("cbolui-pStrength-invalid")){m.find(".cM-pStrength-text-neg").removeClass("cM-responsiveHide").addClass("cM-responsiveShow")}else{if(l.hasClass("cbolui-pStrength-valid")){m.find(".cM-pStrength-text-pos").removeClass("cM-responsiveHide").addClass("cM-responsiveShow")}}})}return{passwordValidators:[],initializePasswordIndicator:function(l,g,f,k){var j,h,e=l.attr("id");this.passwordValidators=f;l.addClass("cF-pStrength-input");d(l,f);if(k){c(l,g)}j=jQuery("#"+e+"-info, #"+e+"-info-resp");h=j.find(".cbolui-pStrength-rules");l.jfpwidget(new CJW.jfp.widget.Tooltip({wrapperSet:"#"+e},{type:"basic",content:{title:{button:false}},show:{solo:true,event:"focus"},events:{show:function(n,m){jQuery(".cM-helpIcon").qtip("hide")}},position:{target:g,at:"right center",my:"left center"},hide:{event:"unfocus"},style:{classes:"tooltip-static jfpw-tooltip ui-tooltip-shadow",tip:{border:2,width:8,height:12}}},{"/topic/snail":["tooltipshow","tooltiphide"]}));l.off(".cbolui-pStrength").on("keyup.cbolui-pStrength",function(q){if(q.keyCode!=9){var y,v,w,x,t,o,m,r=jQuery(this),u=r.val();j.removeClass("cbolui-pStrength-initial cbolui-pStrength-custom");jQuery("#"+jQuery(this).attr("id")+"-complete-text-custom").removeClass("cM-responsiveShow").addClass("cM-responsiveHide");if(u==""){citiGlobal.common.passwordStrengthModule.resetIndicator(r)}else{v=true;for(var n=0,p=citiGlobal.common.passwordStrengthModule.passwordValidators.length;n<p;n++){y=jQuery(".validation-"+(n+1)+"-icon");w=jQuery(".validation-"+(n+1)+"-wrapper");x=parseInt(w.data("position"));if(citiGlobal.common.passwordStrengthModule.passwordValidators[n].isValid(u)){if(y.hasClass("cM-redXIcon")){o=-1;if(h.first().find(".cM-checkIconGreen").length){o=0;h.first().find(".cM-checkIconGreen").each(function(z){m=parseInt(jQuery(this).parent().data("position"));if(m<x){o=m}if(z===0){t=m}});if(o>0){h.first().find(".validation-"+o+"-wrapper").after(w.first().detach());h.last().find(".validation-"+o+"-wrapper").after(w.last().detach())}else{if(o==0){h.first().find(".validation-"+t+"-wrapper").before(w.first().detach());h.last().find(".validation-"+t+"-wrapper").before(w.last().detach())}else{h.first().append(w.first().detach());h.last().append(w.last().detach())}}}else{h.first().append(w.first().detach());h.last().append(w.last().detach())}}y.removeClass("cM-redXIcon").addClass("cM-checkIconGreen")}else{v=false;if(y.hasClass("cM-checkIconGreen")){if(h.first().find(".cM-redXIcon").length){o=0;h.first().find(".cM-redXIcon").each(function(z){m=parseInt(jQuery(this).parent().data("position"));if(m<x){o=m}if(z===0){t=m}});if(o>0){h.first().find(".validation-"+o+"-wrapper").after(w.first().detach());h.last().find(".validation-"+o+"-wrapper").after(w.last().detach())}else{if(o==0){h.first().find(".validation-"+t+"-wrapper").before(w.first().detach());h.last().find(".validation-"+t+"-wrapper").before(w.last().detach())}else{h.first().prepend(w.first().detach());h.last().prepend(w.last().detach())}}}else{h.first().prepend(w.first().detach());h.last().prepend(w.last().detach())}}y.removeClass("cM-checkIconGreen").addClass("cM-redXIcon")}}if(v){r.removeClass("cbolui-pStrength-invalid");j.removeClass("cbolui-pStrength-invalid").addClass("cbolui-pStrength-valid")}else{r.addClass("cbolui-pStrength-invalid");j.removeClass("cbolui-pStrength-valid").addClass("cbolui-pStrength-invalid")}}}}).on("blur.cbolui-pStrength",function(){if(j.hasClass("cbolui-pStrength-valid")){jQuery(this).removeClass("cF-InvalidInputBackground");jQuery("#"+e+"-complete-text").show()}else{if(j.hasClass("cbolui-pStrength-invalid")){jQuery("#"+e+"-complete-text").hide();jQuery(this).addClass("cF-InvalidInputBackground");if(typeof g.jfpwidget()=="undefined"||g.jfpwidget().type!="error"){g.jfpwidget(new CJW.jfp.widget.Tooltip({wrapperSet:"#"+g.attr("id")},{show:{solo:true,event:false,ready:true},events:{show:function(n,m){g.addClass("ui-tooltip-shown");m.reposition()},hide:function(n,m){g.removeClass("ui-tooltip-shown")}},type:"error",position:{my:"left center",at:"right center",adjust:{method:"shift none"}},style:{tip:{border:1,corner:true,mimic:"center",width:8,height:12}},hide:{event:false}}))}g.jfpwidget("show")}}}).on("focus.cbolui-pStrength",function(){if(g.hasClass("ui-tooltip-shown")){g.jfpwidget("hide")}});g.off("click.cbolui-pStrength").on("click.cbolui-pStrength",function(){l.jfpwidget("show")})},triggerCheck:function(e){e.trigger("keyup.cbolui-pStrength")},resetIndicator:function(l){var g=l.attr("id"),k=jQuery("#"+g+"-info, #"+g+"-info-resp"),j=k.find(".cbolui-pStrength-rules");jQuery("#"+g+"-complete-text").hide();jQuery("#"+g+"-complete-text.cM-responsiveShow, #"+g+"-complete-text-custom.cM-responsiveShow, #"+g+"-complete-text-neg.cM-responsiveShow").removeClass("cM-responsiveShow").addClass("cM-responsiveHide");k.addClass("cbolui-pStrength-initial").removeClass("cbolui-pStrength-valid cbolui-pStrength-invalid").find(".cbolui-pStrength-rules .cM-checkIconGreen").removeClass("cM-checkIconGreen").addClass("cM-redXIcon");for(var h=0,e=citiGlobal.common.passwordStrengthModule.passwordValidators.length;h<e;h++){var f=jQuery(".validation-"+(h+1)+"-wrapper");j.first().append(f.first().detach());j.last().append(f.last().detach())}},addExternalError:function(h,e){var g,f=h.attr("id");if(typeof h.jfpwidget("widget")!=="undefined"&&!h.jfpwidget("widget").rendered){h.jfpwidget("widget").render()}g=jQuery("#"+f+"-info, #"+f+"-info-resp");g.removeClass("cbolui-pStrength-initial cbolui-pStrength-valid").addClass("cbolui-pStrength-custom");
jQuery("#"+f+"-complete-text").hide();jQuery("#"+f+"-complete-text-custom").removeClass("cM-responsiveHide").addClass("cM-responsiveShow").html('<span class="cM-spriteBase cM-redXIcon"></span>'+e);g.find(".cbolui-pStrength-status-custom").text(e)},addCustomPasswordValidators:function(f,e){this.passwordValidators=this.passwordValidators.concat(e);d(f,this.passwordValidators)},setCustomPasswordValidators:function(f,e){this.passwordValidators=e;d(f,this.passwordValidators)}}}()),overlayModule:(function(){return{autoCloseOverlayWidgets:function(c){c.on("DOMMouseScroll mousewheel",function(){var d=jQuery(this).find("select").first();if(d.length===1){d.jfpwidget("widget").close();d.jfpwidget("widget")._closeOthers()}jQuery(this).find(".jfpw-tooltip-cursor").each(function(){jQuery(this).jfpwidget("hide")})})}}}()),formUtilitiesModule:(function(){function c(m){var f,l=[],n=m.data.$daySelect.children().first(),g=m.data.$monthSelect.val(),k=m.data.$daySelect.val(),j=m.data.$yearSelect.val();if(j===""||isNaN(j)){j=2012}if(g===""||isNaN(g)){g=12}f=new Date(j,g,0).getDate();n=m.data.$daySelect.children().first();if(n.val()===""||isNaN(n.val())){l.push(n.wrap("<div></div>").parent().html())}for(var h=1;h<=f;h++){l.push('<option value="'+h+'">'+h+"</option>")}m.data.$daySelect.empty().html(l.join("")).val(k).jfpwidget("refresh")}function e(f,m,g,l){var j,o,n,h,p,k;jQuery(f+"-info.cF-frontEndErrorText").html(m);if(jQuery(f).closest(".cF-select").length!==0){k=jQuery(f).closest(".cF-select").find("select")}else{k=jQuery(f)}if(typeof jQuery(f).jfpwidget()=="undefined"||jQuery(f).jfpwidget().type!="error"){switch(l){case"top":o="bottom center";j="top center";n=0;h=12;p=8;break;case"bottom":o="top center";j="bottom center";n=0;h=12;p=8;break;case"left":o="right center";j="left center";n=-9;h=8;p=12;break;case"right":o="left center";j="right center";n=9;h=8;p=12;break;default:if(g){o="right center";j="left center";n=-9;h=8;p=12}else{o="left center";j="right center";n=9;h=8;p=12}}jQuery(f).jfpwidget(new CJW.jfp.widget.Tooltip({wrapperSet:f},{show:{solo:true,event:false,ready:true},events:{show:function(r,q){jQuery(f).addClass("ui-tooltip-shown");q.reposition()},hide:function(r,q){if(r.originalEvent&&r.originalEvent.target&&r.originalEvent.target.className.split("slider").length>1){r.preventDefault()}else{jQuery(f).removeClass("ui-tooltip-shown")}}},type:"error",position:{my:o,at:j,adjust:{method:"shift none",x:n}},style:{tip:{border:1,corner:true,mimic:"center",width:h,height:p}},hide:{event:"unfocus"}}));k.after('<div id="'+k.attr("id")+'-rtip" class="cM-responsiveTooltip"><span class="cM-responsiveTooltipTip"></span><span class="cM-responsiveTooltipText">'+m+"</span></div>")}jQuery(".cM-responsiveTooltip").addClass("cM-responsiveTooltip-hide");k.next(".cM-responsiveTooltip").removeClass("cM-responsiveTooltip-hide").find(".cM-responsiveTooltipText").text(m);jQuery(f).jfpwidget("show")}function d(f){jQuery(a).data("showUnloadMessage",true);if(navigator.userAgent.indexOf("iPad")!=-1){if(!jQuery(a).data("leaveConf")){jQuery("#pageWrapper").on("click.leaveConf","a[href]:not(#appLeft a, form.cF-appInput a, .cbolui-container form a, [href=#], ul.cbolui-modules-headerPrintLinks a)",function(g){if(jQuery(a).data("showUnloadMessage")){if(!confirm(f)){g.preventDefault();g.stopImmediatePropagation()}else{jQuery("#pageWrapper").off(".leavConf");jQuery(a).removeData("leaveConf");jQuery("#appLeft").removeData("leaveConf").find("li a").off(".leaveConf")}}});jQuery(a).data("leaveConf",true)}if(!jQuery("#appLeft").data("leaveConf")){jQuery("#appLeft").find("li a").on("click.leaveConf",function(g){if(jQuery(this).attr("href")!=="#"){g.preventDefault();g.stopImmediatePropagation();if(confirm(f)){jQuery("#pageWrapper").off(".leavConf");jQuery(a).removeData("leaveConf");jQuery("#appLeft").removeData("leaveConf").find("li a").off("click.leaveConf");jQuery("#"+jQuery(this).parents("ul[role=menubar]").attr("id")).jfpwidget()._select(jQuery(this));jQuery(this).trigger("scClick.siteCatalyst");if(typeof(jQuery(this).attr("href"))!=="undefined"){a.location=jQuery(this).attr("href")}}}}).data("leaveConf",true)}}else{if(!jQuery("#appLeft").data("leaveConf")&&!jQuery("#rightSubApp").data("leaveConf")){jQuery("#rightSubApp").on("click.leaveConf","a",function(g){if(!confirm(f)){g.stopImmediatePropagation();g.preventDefault()}else{jQuery(a).off(".leavConf").removeData("leaveConf");jQuery("#rightSubApp").off("click.leaveConf").removeData("leaveConf");jQuery("#appLeft").removeData("leaveConf").find("li a").off("click.leaveConf")}});jQuery("#appLeft").find("li a").on("click.leaveConf",function(g){if(jQuery(this).attr("href")!=="#"){g.preventDefault();g.stopImmediatePropagation();if(confirm(f)){jQuery(a).off(".leavConf").removeData("leaveConf");jQuery("#rightSubApp").off("click.leaveConf").removeData("leaveConf");jQuery("#appLeft").removeData("leaveConf").find("li a").off("click.leaveConf");jQuery("#"+jQuery(this).parents("ul[role=menubar]").attr("id")).jfpwidget()._select(jQuery(this));jQuery(this).trigger("scClick.siteCatalyst");if(typeof(jQuery(this).attr("href"))!=="undefined"){a.location=jQuery(this).attr("href")}}}});jQuery("#appLeft, #rightSubApp").data("leaveConf",true)}if(!jQuery(a).data("leaveConf")){if(typeof(jQuery(a).data("onbeforeunload"))==="undefined"){jQuery(a).data("onbeforeunload",a.onbeforeunload)}jQuery(a).on("beforeunload",function(){if(typeof(jQuery(a).data("onbeforeunload"))!=="undefined"){jQuery(a).data("onbeforeunload")()}}).on("beforeunload.leavConf",function(){if(jQuery(a).data("showUnloadMessage")){return f}}).data("leaveConf",true)}}}return{recoverableError:false,initializeDob:function(g,h,f){h.on("change",{$monthSelect:h,$daySelect:f,$yearSelect:g},c);g.on("change",{$monthSelect:h,$daySelect:f,$yearSelect:g},c)},bindLeaveConfirmation:function(f,g){jQuery("#appBody").off("change.leaveConf");if(f){jQuery("#appBody").one("change.leaveConf","input, select, div.jfpw-select-wrapper > div",function(){d(g)})}else{d(g)}},unbindLeaveConfirmation:function(){jQuery("#appBody").off("change.leaveConf");jQuery("#pageWrapper").off(".leavConf");jQuery(a).removeData("leaveConf").off(".leavConf");jQuery("#rightSubApp").removeData("leaveConf").off(".leaveConf");jQuery("#appLeft").removeData("leaveConf").find("li a").off("click.leaveConf")},validateDob:function(u,n,q,o,m){var g,f=n.find("select").eq(n.data("fieldorder").indexOf("M")),h=n.find("select").eq(n.data("fieldorder").indexOf("D")),k=n.find("select").eq(n.data("fieldorder").indexOf("Y")),l=f.val(),t=h.val(),r=k.val(),j,p;if(typeof q==="undefined"){q=[]}if(l==0||t==0||r==0||l==""||t==""||r==""){q.push({fieldId:n.attr("id"),error:m.emptyError,type:"incomplete"})}else{g=new Date(r,l,0).getDate();if(g<t){if(t==29){q.push({fieldId:n.attr("id"),error:m.MDYError,type:"leap"})}else{q.push({fieldId:n.attr("id"),error:m.MDError,type:"day"})}}else{j=new Date(parseInt(r)+o,l-1,t);if(j>new Date()){q.push({fieldId:n.attr("id"),error:m.ageError,type:"age"})}}}return q},renderFormTooltipErrors:function(z,k){var f,l,h,g,v,w,o,t,n,r,m=jQuery("#"+z);m.off(".validation").find(".cF-invalidField").off(".validation").removeClass("cF-InvalidInputBackground ui-tooltip-shown").find("input").off(".validation").removeClass("cF-InvalidInputBackground ui-tooltip-shown");m.find(".cM-responsiveTooltip").remove();m.find(".cF-invalidField").each(function(){jQuery(this).removeClass("cF-invalidField").not("select, .cF-pStrength-input").jfpwidget("destroy")});jQuery("div.cF-frontEndErrorText[id]").remove();
m.on("click.validation","input",function(){jQuery(this).trigger("focus")}).find("input.hasDatepicker").on("click.validation",function(){jQuery(this).trigger("focus")});citiGlobal.common.formUtilitiesModule.recoverableError=true;for(var q=0;q<k.length;q++){l=k[q].fieldId;h=jQuery("#"+l);if(!h.hasClass("cF-pStrength-input")){k[q].position=h.data("tooltip-position");t=(h.attr("type")==="radio"||h.attr("type")==="checkbox")?true:false;if(m.find(".cF-frontEndErrorText:not([id])").length==0){m.append('<div class="cF-frontEndErrorText cM-toolTipContent"></div>')}if(jQuery("select#"+l).length){if(jQuery("#"+l+"-temp").length){jQuery("#"+l).jfpwidget()._create()}m.find("div.cF-frontEndErrorText:not([id])").attr("id",l+"-button-info");v="#"+l+"-button";w=jQuery(v+", #"+l);g=v;o=w.find(".ui-selectmenu-item-header").text()}else{if(h.hasClass("cF-form-dob")){var y,p=h.find("select:first").is(":visible");if(k[q].type=="day"){var u=h.data("fieldorder").indexOf("D"),j=h.data("fieldorder").indexOf("M");y=(u<j)?u:j;if(p){v="#"+h.find("select").eq(u).attr("id")+", #"+h.find("select").eq(j).attr("id")}else{v="#"+h.find(".ui-selectmenu.ui-widget").eq(u).attr("id")+", #"+h.find(".ui-selectmenu.ui-widget").eq(j).attr("id")}}else{y=2;if(p){v="#"+h.find("select").eq(0).attr("id")+", #"+h.find("select").eq(1).attr("id")+", #"+h.find("select").eq(2).attr("id")}else{v="#"+h.find(".ui-selectmenu.ui-widget").eq(0).attr("id")+", #"+h.find(".ui-selectmenu.ui-widget").eq(1).attr("id")+", #"+h.find(".ui-selectmenu.ui-widget").eq(2).attr("id")}k[q].position="right"}if(p){g=h.find("select").eq(y).attr("id")}else{g=h.find(".ui-selectmenu.ui-widget").eq(y).attr("id")}m.find("div.cF-frontEndErrorText:not([id])").attr("id",g+"-info");g="#"+g;w=jQuery(v);o=h.find(".ui-selectmenu-item-header").eq(0).text()+h.find(".ui-selectmenu-item-header").eq(1).text()+h.find(".ui-selectmenu-item-header").eq(2).text()}else{if(h.attr("type")!="password"&&h.parent("div.maskedWrapper").length!=0){g=h.parent("div.maskedWrapper").attr("id");m.find("div.cF-frontEndErrorText:not([id])").attr("id",g+"-info");g="#"+g}else{if(h.parent("div.cM-dateWrapper").length!=0){g=h.parent("div.cM-dateWrapper").attr("id");m.find("div.cF-frontEndErrorText:not([id])").attr("id",g+"-info");g="#"+g}else{if(t){n=h.parents("div.cF-elementInputChoice").find("legend").first();if(typeof(n.attr("id"))==="undefined"){n.attr("id",l+"-radioErrorTarget")}m.find("div.cF-frontEndErrorText:not([id])").attr("id",n.attr("id")+"-info");g="#"+n.attr("id")}else{m.find("div.cF-frontEndErrorText:not([id])").attr("id",l+"-info");g="#"+l}}}v="#"+l;w=jQuery(v);o=w.val()}}r=g.split("#")[1]+"-info";if(typeof(w.first().attr("aria-describedby"))=="undefined"){w.attr("aria-describedby",jQuery.trim(r)).next(".Mask").attr("aria-describedby",jQuery.trim(r))}else{if(w.first().attr("aria-describedby").indexOf(r)===-1){r+=" "+w.first().attr("aria-describedby");w.attr("aria-describedby",jQuery.trim(r)).next(".Mask").attr("aria-describedby",jQuery.trim(r))}}jQuery(v+", "+g+" input").not(":checkbox, :radio").addClass("cF-InvalidInputBackground");if(v.split("-button").length>1){jQuery(v.split("-button")[0]).addClass("cF-invalidField").addClass("cF-InvalidInputBackground")}jQuery(g).addClass("cF-invalidField");w.on("focus.validation",{error:k[q].error,tooltipTarget:g,isRadio:t,position:k[q].position},function(x){if(!jQuery(x.data.tooltipTarget).hasClass("ui-tooltip-shown")){jQuery(".ui-tooltip.qtip, .ui-tooltip-shown").qtip("hide");jQuery(".ui-tooltip-shown").removeClass("ui-tooltip-shown");e(x.data.tooltipTarget,x.data.error,x.data.isRadio,x.data.position)}});w.on("change.validation",{wrapper:v,value:o,tooltipTarget:g,isRadio:t},function(C){var D=C.data.wrapper,B=C.data.tooltipTarget,A=jQuery(D),x=A;if(B.split("-button").length>1){x=jQuery(B.split("-button")[0])}if((C.data.value!=A.val()||C.data.isRadio)&&(C.data.value!=A.find(".ui-selectmenu-item-header").text()||(x.is("select")&&C.data.value!=b.trim(x.find("option:selected").text()))||C.data.value=="")){setTimeout(function(){citiGlobal.common.formUtilitiesModule.recoverableError=false;A.off(".validation");if(typeof(A.attr("aria-describedby"))!=="undefined"&&A.attr("aria-describedby").indexOf(B.split("#")[1]+"-info")!==-1){if(A.attr("aria-describedby").split(" ").length>1){A.attr("aria-describedby",jQuery.trim(A.attr("aria-describedby").split(B.split("#")[1]+"-info").join("")))}else{A.removeAttr("aria-describedby")}}jQuery(D+", "+B+", "+B+" input").removeClass("cF-InvalidInputBackground");if(B.split("-button").length>1){jQuery(B.split("-button")[0]).removeClass("cF-InvalidInputBackground").off(".validation").next(".cM-responsiveTooltip").addClass("cM-responsiveTooltip-hide")}jQuery(B).jfpwidget("hide");jQuery(B).next(".cM-responsiveTooltip").addClass("cM-responsiveTooltip-hide");if(A.get(0).tagName!="INPUT"){A.focus()}},0)}});w.not(".ui-selectmenu").on("blur.validation",{tooltipTarget:g},function(x){jQuery(x.data.tooltipTarget.split("-button")[0]).next(".cM-responsiveTooltip").addClass("cM-responsiveTooltip-hide")})}else{citiGlobal.common.passwordStrengthModule.addExternalError(h,k[q].error);h.addClass("cF-invalidField cF-InvalidInputBackground")}}setTimeout(function(){f=m.find(".cF-invalidField:visible").first();if(f.hasClass("maskedWrapper")||f.hasClass("cM-dateWrapper")){f=f.find("input:visible")}else{if(f.prop("tagName")=="LEGEND"){f=f.parents("fieldset").first().find("input:radio").first()}}f.trigger("focus");b(".cF-inputBoxChoiceList input:radio").on("change.validation",function(){jQuery(this).parents("div.cF-inputBoxChoiceList").find(".cF-invalidField").each(function(){var x=jQuery(this);x.jfpwidget("destroy");x.removeClass("cF-InvalidInputBackground cF-invalidField").find("input").removeClass("cF-InvalidInputBackground");m.find("#"+x.attr("id")+"-info.cF-frontEndErrorText").remove()})})},0)},formatAccountSelectItems:function(m){var h=new Array(),n="DEFAULT",k,p,j=[],f;if(m.split("{0}").length>2){n=m.split("{0}")[2]}k="<span>"+m.split("{0}")[0];if(k.lastIndexOf("{1}")>-1){k=jQuery.trim(k.substring(0,k.lastIndexOf("{1}")))+"</span><span>"+k.substring(k.lastIndexOf("{1}")+3)+"</span>"}else{k+="</span>"}h.push('<span class="cS-accountMenuItem"><span class="ui-selectmenu-item-header cS-accountMenuAccount">'+k+"</span>");if(m.split("{0}").length>1){h.push('<span class="ui-selectmenu-item-content rightResolver">');p=m.split("{0}")[1];if(p.indexOf("{SR}")>-1){j=p.split("{SR}")}else{j.push(p)}for(i=0;i<j.length;i++){f=j[i];if(f.indexOf("-")>-1){var l=jQuery.trim(f.substring(f.indexOf("-")+1));h.push('<span class="ui-selectmenu-item-content cS-accountMenuResolver ');if(i==1){h.push("secondaryResolver")}h.push('">');h.push(f.substring(0,f.indexOf(":")+1));var o=l.replace(/\D/g,"");var g=/^[0]*$/;if(g.test(o)){h.push('<span class="cS-negativeValue"> '+l+" </span>")}else{h.push('<span class="cS-negativeValue">'+f.substring(f.indexOf(":")+1)+" </span>")}h.push(" </span>")}else{if(""!=f){h.push('<span class="ui-selectmenu-item-content cS-accountMenuResolver ');if(i==1){h.push("secondaryResolver")}h.push('">');h.push(f+" </span>")}}}}h.push("</span>");return h.join("")},formatNormalSelectItems:function(f){return'<span class="cS-menuItem"><span class="ui-selectmenu-item-header cS-itemText">'+f+"</span></span>"},onOpenSelect:function(f){if(f.originalEvent&&f.originalEvent.type&&f.originalEvent.type==="mousedown"){jQuery(".ui-tooltip.qtip").qtip("hide");setTimeout(function(){jQuery("#"+f.target.id+"-button").focus()},0)}},onChangeSelect:function(f){jQuery("#"+f.target.id+"-button").change()
},setAddOnInputWidths:function(j){var f;var g;var h;if(typeof j==="undefined"){j="body"}jQuery(j).find(".cF-addOnInput").each(function(k){g=jQuery(this);h=g.find('input[type="text"]');f=g.find(".cF-inputAddOn").outerWidth();if(g.hasClass("cF-addOnPrepend")){h.css("padding-left",f)}else{h.css("padding-right",f)}h.width(g.width()-f-12)})},attachSubSectionListeners:function(){jQuery(document).on("click",".cF-subSectionControl",function(){var f=jQuery(this).parents(".cF-subSectionChoice").first().find(".cF-subSection").first();f.toggle();if(typeof f.data("widthSet")=="undefined"){citiGlobal.common.formUtilitiesModule.setAddOnInputWidths(f);f.data("widthSet",true)}})}}}()),tableManipulationModule:(function(){return{resizeColumnWidths:function(r){var f="tr:not(.cT-tableHeader, .cT-disclaimerRow)",u="cT-noWrap",j="cT-noExtraPixels",g="cT-numberColumn",e="cT-linkColumn",q="200px",p=r.parent().width(),d=0,l=0,c=0,k=0,m=[],o,h=0;o=r.find(f);b.each(o.first().find("td"),function(v){var w=b(this),x;if(!w.hasClass(j)){h++}if(w.hasClass(g)){r.find("thead tr th:eq("+v+")").addClass(g)}if(w.hasClass(e)){r.find("thead tr th:eq("+v+")").addClass(e)}if(w.hasClass(u)){if(w.hasClass(e)){w.css("width",q)}m[v]=0;x=parseInt(w.css("padding-right").replace("px",""))+parseInt(w.css("padding-left").replace("px",""));b.each(o.find("td:eq("+v+")").children(),function(){if(b(this).innerWidth()>m[v]){m[v]=b(this).innerWidth()}});d+=m[v]+x}else{k++}});c=p-d;b.each(o.first().find("td"),function(v){var w=b(this),x;if(!w.hasClass(u)){m[v]=0;x=parseInt(w.css("padding-right").replace("px",""))+parseInt(w.css("padding-left").replace("px",""));b.each(o.find("td:eq("+v+")").children(),function(){var y=b(this);if(y.innerWidth()>m[v]){m[v]=y.innerWidth()}if(b("html").hasClass("bFF")){y.html(y.html().replace("-","-&#8203;"))}});l+=(c/k)-x-m[v]}});var t=parseInt(l/h),n=l%h;b.each(o.first().find("td"),function(v){var x;if(l>=0&&!b(this).hasClass(j)){x=m[v]+t;if(n!=0){x++;n--}}else{if(b(this).hasClass(u)){x=m[v]}else{k--;var w=m[v]-((-l)*(m[v]/(c-l)));x=parseInt(w);if(k==0&&w%1!=0){x--}if(n!=0){x--;n++}b.each(o.find("td:eq("+v+")").children(),function(){var E=b(this),C=1,D=E.html();while(E.width()>x&&C<50){C++;E.html(b.trim(D));var G=b.trim(E.text());var A=(G.length/C%1!=0)?parseInt(G.length/C)+1:G.length/C;var B="";for(var F=0;F<C;F++){var z=((F+1)*A>G.length)?G.length:(F+1)*A;B+=G.substring((F*A),z);if(F+1<C){B+="{0}"}}E.text(B);var y=E.text().replace(/\{0\}/g,"<wbr>");E.html(y)}})}}r.find("thead tr th:eq("+v+")").width(x);b(this).width(x)})},setColumnWidths:function(d){var g="cT-noExtraPixels",c=d.find("tr:not(.cT-tableHeader, .cT-disclaimerRow)"),g="cT-noExtraPixels",f="cT-numberColumn",e="cT-linkColumn";b.each(c.first().find("td"),function(h){var j=b(this),k=0;if(j.hasClass(g)){b.each(c.find("td:eq("+h+")").children(),function(){if(jQuery(this).innerWidth()>k){k=jQuery(this).innerWidth()}});d.find("thead tr th:eq("+h+")").width(k);j.width(k)}if(j.hasClass(f)){d.find("thead tr th:eq("+h+")").addClass(f)}if(j.hasClass(e)){d.find("thead tr th:eq("+h+")").addClass(e)}})},positionTablesorterIcons:function(h){if(""==h||"string"!=typeof h){h=".cT-tableBase.tablesorter"}var g=jQuery(h).find("thead tr th").filter(":not(:empty):not(.sorter-false)");for(var e=0,d=g.length;e<d;e++){var m=jQuery(g[e]),f=m.find(".cM-spriteBase.cT-sortArrow"),j=m.find(".tablesorter-header-inner > .cM-extend > span"),c=j.parent().position().left,k=j.width();f.css({left:(k+c+5)+"px"})}}}}()),predictiveSearchModule:(function(){var g,l,x="#cM-sb-results",j,G=".cT-searchColumn",F,B,h,z,A,c=".cM-sb-resultItem",q,r=".cA-sb-xButton",J,v,u,K="#cM-sb-searchSliderWrapper",E=0,D=[],y=1,k=[],t=false,H=1,e=true,m="";isAdaApplication=false;function f(){g.val(u);g.addClass("cM-sb-initialText");g.off(".sb");g.off("keydown");g.off("keyup");g.off("keypress");z.off(".sb");g.on("focus.sb click.sb",function(){g.addClass("cA-isFocused");E=0;if(g.val()==u){g.val("");F.removeClass("cM-hide");B.addClass("cM-hide");h.addClass("cM-hide");j.addClass("cM-hide");j.html("");n()}else{var L=g.val();if(L.charAt(0)===" "){L=L.slice(1)}if(L!=""){if(L.length>=H){}else{h.addClass("cM-hide");B.removeClass("cM-hide");F.addClass("cM-hide");A.addClass("cM-hide");j.html("");n()}}}g.removeClass("cM-sb-initialText");l.removeClass("cM-hide");J.addClass("cA-sb-selected")});g.on("keyup keypress keydown",function(L){if(L.keyCode==38||L.keyCode==40){L.preventDefault()}});b(".cM-sb-resultItem").on("keyup keypress keydown",function(L){if(L.keyCode==38||L.keyCode==40){L.preventDefault()}});j.on("focus.sb","li",function(){jQuery(this).addClass("cF-hovered")}).on("blur.sb","li",function(){jQuery(this).removeClass("cF-hovered")});z.on("keyup.sb paste.sb","input, .cM-sb-resultItem",function(M){var N=M.keyCode,L=g.val();if(N==40){E++;if(E>j.find("li").length){E=0;g.trigger("focus")}if(!j.hasClass("cA-isHovered")){j.find("li:nth-child("+E+")").trigger("focus")}}else{if(N==38){E--;if(E<1){if(E==0){g.trigger("focus")}else{E=0}}if(!j.hasClass("cA-isHovered")){j.find("li:nth-child("+E+")").trigger("focus")}}else{if(N==13){jQuery(c+".cF-hovered").trigger("click.sb")}else{setTimeout(function(){L=L.replace(/^[\s]+/,"");if(L!==m){if(L!=""){if(L.length>=H){F.addClass("cM-hide");B.addClass("cM-hide");h.removeClass("cM-hide");d(L);if(t&&jQuery(c).length==1){g.trigger("blur.sb");jQuery(c).trigger("click.sb")}}else{B.removeClass("cM-hide");F.addClass("cM-hide");h.addClass("cM-hide");A.addClass("cM-hide");j.html("");j.addClass("cM-hide")}}else{F.removeClass("cM-hide");B.addClass("cM-hide");h.addClass("cM-hide");A.addClass("cM-hide");j.html("");j.addClass("cM-hide")}n();m=L}},10)}}}});g.on("blur.sb",function(L){g.removeClass("cA-isFocused");setTimeout(function(){if(!j.hasClass("cA-isHovered")&&j.find("li.cF-hovered").length===0){C();A.addClass("cM-hide");g.val(u);g.addClass("cM-sb-initialText");n();J.removeClass("cA-sb-selected")}},1)});b(document).on("click",function(L){if((L.target.id!==g.attr("id"))&&b("#cM-sb-inputContainer").hasClass("cA-sb-selected")){g.removeClass("cA-isFocused");setTimeout(function(){if(!j.hasClass("cA-isHovered")&&j.find("li.cF-hovered").length===0){C();A.addClass("cM-hide");g.val(u);g.addClass("cM-sb-initialText");n();J.removeClass("cA-sb-selected")}},1)}});l.on("blur.sb",function(L){g.removeClass("cA-isFocused");setTimeout(function(){if(!j.hasClass("cA-isHovered")&&j.find("li.cF-hovered").length===0){C();A.addClass("cM-hide");g.val(u);g.addClass("cM-sb-initialText");n();J.removeClass("cA-sb-selected")}},1)});j.on("blur.sb","li",function(L){setTimeout(function(){if(!j.hasClass("cA-isHovered")&&!g.hasClass("cA-isFocused")&&j.find("li.cF-hovered").length===0){C();g.val(u);g.addClass("cM-sb-initialText");n();J.removeClass("cA-sb-selected")}},1)});z.on("click.sb, keydown.sb",r,function(N){var L=jQuery(this).parent(),M=jQuery.inArray(jQuery.trim(L.text()),k),O=N.keyCode;if(typeof(O)==="undefined"||O===13){if(M!=-1){k.splice(M,1)}L.remove();if(k.length==0){v.removeClass("cM-hide")}o();g.removeClass("cM-hide");w();g.val(u);g.addClass("cM-sb-initialText");j.find("li").remove();if(!e){q.trigger("sortReset")}n();j.removeClass("cA-isHovered")}});z.on("click.sb",c,function(){var L=jQuery(this);if(L.text()!=""){k.push(jQuery.trim(L.text()));I(jQuery.trim(L.text()));o();C()}n();z.find(".cA-sb-selectedText").first().trigger("focus")});z.on("mouseenter.sb","#cM-sb-dropDown",function(){j.addClass("cA-isHovered");j.find("li").removeClass("cF-hovered")});z.on("mouseleave.sb","#cM-sb-dropDown",function(){j.removeClass("cA-isHovered")
});z.on("mouseenter.sb focus.sb",K,function(){j.addClass("cA-isHovered");j.find("li").removeClass("cF-hovered")});z.on("mousedown.sb","#cM-sb-searchSlider",function(){jQuery("html").one("mouseup.sb",function(){g.trigger("focus.different")})})}function C(){l.addClass("cM-hide");j.attr("aria-expanded","false");j.html("");j.addClass("cM-hide");j.removeClass("cA-isHovered")}function I(N){var L=J.find(".cM-sb-selectedContainer");if(jQuery("html").hasClass("bIE")){L.append("<div id='"+N+"SearchItem' class='cA-sb-selectedSearch'><span class='cM-spriteBase cA-sb-leftSideRound'></span><p class='cM-spriteBase cA-sb-selectedText' tabindex='0'>"+N+"</p><span class='cM-spriteBase cA-sb-xButton' tabindex='0' aria-label='delete'></span><span class='cM-spriteBase cA-sb-rightSideRound'></span></div>");var M=jQuery("#"+N+"SearchItem");M.on("mouseenter.sb",function(){M.addClass("cF-hovered")});M.on("mouseleave.sb",function(){M.removeClass("cF-hovered")})}else{L.append("<div class='cA-sb-selectedSearch'><p class='cA-sb-selectedText' tabindex='0'>"+N+"</p><span class='cM-spriteBase cA-sb-xButton' tabindex='0' aria-label='delete'></span></div>")}v.addClass("cM-hide");if(k.length==y){g.addClass("cM-hide")}else{w();g.val(u);g.addClass("cM-sb-initialText")}}function w(){if(k.length!=0){g.width(J.width()-J.find(".cM-sb-selectedContainer").width()-10)}else{g.removeAttr("style")}}function d(T){j.html("");h.removeClass("cM-hide");A.addClass("cM-hide");var N="";var M=[];for(var R=0,Q=D.length;R<Q;R++){var P=D[R].replace("&#8203;","").toLowerCase().indexOf(T.toLowerCase());if(P>=0&&jQuery.inArray(D[R],M)==-1&&jQuery.inArray(D[R],k)==-1){var L=D[R].substring(0,P);var S=D[R].substring(P,T.length+P);var O=D[R].substring(P+T.length);N=N+"<li id='resultItem"+R+"' class='cM-sb-resultItem' tabindex='-1' role='option'>"+L+"<span class='cA-sb-blueText'>"+S+"</span>"+O+"</li>";M.push(D[R])}}if(N==""){A.removeClass("cM-hide");j.addClass("cM-hide");j.removeClass("cA-isHovered")}else{j.html(N);j.removeClass("cM-hide").attr("aria-expanded","true");j.find("li").first().addClass("cA-sb-removeTopBorder")}h.addClass("cM-hide");n()}function o(){var L=k.length;if(!(isAdaApplication)){q.find("tr").removeClass("cT-searchMismatch");if(L>0){q.find("tbody tr").each(function(){var M=false;for(var N=0;N<L;N++){if(jQuery.trim(jQuery(this).find(G).attr("data-searchText"))==k[N]){M=true;break}}if(!M){jQuery(this).addClass("cT-searchMismatch")}})}}else{b("#postedTansactionTable table").each(function(){var O=b(this).attr("id");b("#"+O).removeClass("cM-hide");var N=b("#"+O).dataTable();accountDetailsInvestments.callPredictivePlugin();N.fnDraw();accountDetailsInvestments.changeinfoTextAfterFiltering(O,N);for(var M=0;M<multipleView.length;M++){if(N.fnSettings().fnRecordsDisplay()<=multipleView[M]){b("#"+O+"_"+multipleView[M]).hide()}else{b("#"+O+"_"+multipleView[M]).show()}}if(b("#"+recordToggleButtonID).is(":visible")){b("#"+recordToggleButtonID).addClass("current");b("#"+O+"_-1").removeClass("current")}else{b("#"+O+"_-1").addClass("current");b("#"+recordToggleButtonID).removeClass("current")}})}z.trigger("rowUpdate.sb")}function p(){if($jq("#cM-sb-searchSlider").length!=0){$jq("#cM-sb-searchSlider").jfpwidget(new CJW.jfp.widget.AutoSlider({wrapperSet:"#cM-sb-searchSlider"},{range:"max",value:100,min:1,max:100,step:1,orientation:"vertical",handle:"#cM-sb-searchSlider",styleClass:"jfpw-slider",parent:"#cM-sb-dropDown",parentSize:170,height:170},{}))}}function n(){jQuery("#cM-sb-searchSlider").jfpwidget("refresh");if(jQuery("#cM-sb-wrapper .jfpw-slider-wrap-vertical").is(":visible")){l.find("li").addClass("cM-sb-sliderShown")}else{l.find("li").removeClass("cM-sb-sliderShown")}jQuery("#cM-sb-searchSlider").jfpwidget("refresh");b("#cM-sb-searchSlider").jfpwidget("setProperty","value",100)}return{setList:function(L){D=L},setSelectedSearchLimit:function(L){y=L},setMinimumSearchCharacters:function(L){H=L},setRetainSortOrder:function(L){e=L},setSelectedOptions:function(L){k=L},setAutoSelectSingleResult:function(L){t=L},hide:function(){z.addClass("cM-hide")},isADA:function(L){isAdaApplication=L},initialize:function(L){g=jQuery("#cM-sb-input");l=jQuery("#cM-sb-dropDown");j=jQuery(x);F=jQuery("#cM-sb-noText");B=jQuery("#cM-sb-moreChars");h=jQuery("#cM-sb-searchingText");z=jQuery("#cM-sb-wrapper");A=jQuery("#cM-sb-noResults");q=L;J=jQuery("#cM-sb-inputContainer");v=jQuery(".cM-spriteBase.cA-sb-searchIcon");u=g.attr("data-sb-defaultText");f();p()},setSearch:function(){for(var L=0,M=k.length;L<M;L++){I(k[L])}o()},setSearchRowSelector:function(L){G=L}}}()),commonAjaxErrorHandler:(function(){function d(h,g){var k=null;try{k=new RegExp("[?&]"+g+"=([^&#]*)").exec(h);if(null!=k){return k[1]}}catch(j){return null}}function c(h){var g=null,j=null;b(h).each(function(k,l){if((l.style.display=="block")||(l.style.visibility="visible")){g=jQuery(l).attr("id");if(null!=g){j=g.indexOf("-");if(null!=j&&j>0){g=g.substring(0,j)}}}});return g}function f(g){var h=null;b(g).each(function(j,k){h=jQuery(k).attr("id")});return h}function e(){b(document).ajaxError(function(h,m,n,l){if(m.status!=200){var j=n.url,v=".jfpw-dialog",r="targetDiv",g=".jfpw-overlay",o=".cH-overlayTitleLine",k="jfp.layout",u=c(v),q=c(g),w=f(o),p=d(j,r),t=d(j,k);if(null!=p&&p.length>0){b("#"+p).html(ajaxErrMsg)}else{if(null!=u&&u.length>0){b("#"+u).html(ajaxErrMsg)}else{if(null!=q&&q.length>0){if(null!=w){b("#"+q+" #"+w).addClass("cM-hide");b("#"+q+" .cS-overlayContent").html("");b("#"+q+" .cS-overlayContent").addClass("cS-otpContent")}b("#"+q+" .cS-overlayContent").html(ajaxErrMsg)}else{if(null!=t&&t.length>0){if(t=="AppBodyAndFAQ"){b("#appBody").html(ajaxErrMsg)}}}}}}})}return{getErrorUrl:function(){e()}}}()),printRecordModule:(function(){var c="toolbar=yes,location=yes,status=yes,menubar=no,scrollbars=yes,resizable=yes,directories=no,";return{openPrintRecordWindow:function(d,f,e){if(f===undefined){f=625}if(e===undefined){e=600}var h=(screen.width/2)-(f/2);var g=(screen.height/2)-(e/2);openPrintWin(d,"Child",c+"width="+f+",height="+e+",top="+g+",left="+h)},savePrintRecord:function(){jQuery(a).data("showUnloadMessage",false);var d=jQuery("#print_save").attr("action");if(typeof d!="undefined"&&d!=""&&d.indexOf("JFP_TOKEN")==-1&&d.indexOf("javascript")==-1&&d.indexOf(";")==-1&&d.indexOf("#")==-1&&d.indexOf("/CBOL/")!=-1){if(d.indexOf("=")!=-1){d=d+jfp_token_ambersand}else{d=d.replace(/\?/g,"")+jfp_token_question}jQuery("#print_save").attr("action",d)}jQuery("#print_save").submit();jQuery(a).data("showUnloadMessage",true)},emailPrintRecord:function(){jQuery("#viewRecordEmailDialogueBox").jfpwidget("open");jQuery("#emailOverlaySpinner").jfpwidget("block",".emailSpinnerWrapper");var d=contextPath+"/CBOL/common/print/flow.action";jQuery.ajax({url:d,type:"post",data:{event:"email"},dataType:"html",success:function(e){jQuery("#viewRecordEmailDialogueBox").html(e);jQuery("#viewRecordEmailDialogueBox").show();jQuery("#cmlink_ViewRecordEmail_Ok").on("click.cbolui-print",function(){jQuery("#viewRecordEmailDialogueBox").jfpwidget("close")})},error:function(){}});jQuery("#viewRecordEmailDialogueBox").jfpwidget("refresh");jQuery("#viewRecordEmailDialogueBox").html("")},closeDialogueBox:function(){jQuery("#viewRecordEmailDialogueBox").jfpwidget("close")},convertFieldsets:function(d){d.find("fieldset").contents().unwrap().wrap("<div/>")}}}()),datePickerModule:(function(){var e="";var d="";var f="";var h=(function(l,m,k){k.dateDisable=function(p,y,n,r){var u=p.getDay();var t=(p.getMonth()+1)<10?"0"+(p.getMonth()+1):(p.getMonth()+1);
var o=p.getDate()<10?"0"+p.getDate():p.getDate();var x=p.getFullYear();var v=new Array();var q=new Array();var w=new Date();if(y!=""){v=y.split(",")}if(n!=""){q=n.split(",")}for(nAWeek in v){if(u==v[nAWeek]){return[false,"jfpw-dp-past"]}}for(nADates in q){if((x+""+t+o)==q[nADates]){return[false,"jfpw-dp-past"]}}if((x+t+o)==r){return[true,"jfpw-dp-payment-due"]}return[true," jfpw-dp-future"]};return k}(a,a.jQuery,a.dateoption||{}));function g(l,k){if(l.val()!=undefined&&l.val()==k){l.val("")}l.removeClass("cF-ghostText")}function c(l,k){if(l.val()==undefined||l.val().length==0||l.val()==""){l.val(k);l.addClass("cF-ghostText")}}function j(k){return h.dateDisable(k,e,d,f)}return{initializeDatePicker:function(m,k,l){if(m.displayDatePicker){if(typeof(m.numberOfMonths)==="undefined"){m.numberOfMonths=1}e=m.daysOfWeekNotAllowed;d=m.datesNotAllowed;f=m.highLightedDate;if(jQuery(k).length>0){jQuery(k).jfpwidget(new CJW.jfp.widget.TipDatepicker({wrapperSet:k},{buttonImage:"/JFP/images/widgets/jfpw.datepicker.png",buttonImageOnly:false,moveFocus:true,datepickerConfig:{selectPastDate:true,beforeShowDay:j,showOn:"both",buttonText:"",numberOfMonths:m.numberOfMonths,dateFormat:m.dateFormat,firstDay:m.firstDayOfWeek,minDate:m.calendarMinDate,maxDate:m.calendarMaxDate,dayNamesMin:["S","M","T","W","T","F","S"]},onSelect:function(){jQuery(k).off("focus.validation").removeClass("cF-ghostText").trigger("change")},position:{at:"bottom center",my:"top center"},style:{tip:{corner:"top center",mimic:"top center"}}},{}))}jQuery(k).val(m.displayDateFormat);jQuery(k).attr("defaultValue",m.displayDateFormat);b(".ui-datepicker-trigger").addClass("cF-datePickerIcon");jQuery(k).addClass("cF-ghostText");if(l){if(m.displayDate){jQuery(k).val(m.displayDate);jQuery(k).removeClass("cF-ghostText")}}jQuery(k).focus(function(n){g(jQuery(k),m.displayDateFormat,n)});jQuery(k).blur(function(n){c(jQuery(k),m.displayDateFormat,n)});jQuery(k).wrap('<div id="'+k.replace("#","")+'-wrapper" class="cM-dateWrapper" />')}},restrictDateRange:function(n,k){var m=jQuery("#"+n),l=jQuery("#"+k);jQuery("#"+k+", #"+k+"trigger").on("click",function(o){if(typeof jQuery("#"+k+"dc").jfpwidget()==="undefined"){l.jfpwidget("show")}if(m.val()!==""){jQuery("#"+k+"dc").jfpwidget().setProperty("minDate",m.val())}jQuery("button.ui-datepicker-trigger").addClass("cM-hide")});jQuery("#"+n+", #"+n+"trigger").on("click",function(o){if(typeof jQuery("#"+n+"dc").jfpwidget()==="undefined"){m.jfpwidget("show")}if(l.val()!==""){jQuery("#"+n+"dc").jfpwidget().setProperty("maxDate",l.val())}jQuery("button.ui-datepicker-trigger").addClass("cM-hide")})}}}()),validationModule:(function(){function c(o,m,e,g){var l=new Array();var h=/^([^a-zA-Z]+)$/;for(var k=0;k<m.length;k++){var f=b(m[k]);var d=f.val()*1;if((b.trim(f.val())).length==0){l.push({fieldId:b(m[k]).attr("id"),error:g.emptyAmount})}else{if(!(h.test(f.val()))){l.push({fieldId:b(m[k]).attr("id"),error:g.nonNumericAmount})}else{if(d==0&&e.isZeroValidation!=undefined&&e.isZeroValidation){l.push({fieldId:b(m[k]).attr("id"),error:g.zeroAmount})}else{if(d<0&&e.isNegativeValidation!=undefined&&e.isNegativeValidation){l.push({fieldId:b(m[k]).attr("id"),error:g.negativeAmount})}}}}}if(l&&l.length>0){citiGlobal.common.formUtilitiesModule.renderFormTooltipErrors(o,l);return false}else{return true}}return{inputValidation:function(f,h,e,g){var d=b(h);if(e.type.toUpperCase()=="AMOUNT"){if(c(f,d,e,g)){return true}else{return false}}}}}()),headerPrintLinksModule:(function(){return{refresh:function(){var h=false,f=false,g=false,e="cbolui-modules-headerPrintLinks-hide",j=jQuery("#appHeader").find(".cbolui-modules-headerPrintLinks"),c=j.find("#cbolui-modules-headerPrintLinks-printLink"),k=j.find("#cbolui-modules-headerPrintLinks-saveLink"),d=j.find("#cbolui-modules-headerPrintLinks-emailLink");if(typeof layoutConfiguration!=="undefined"){if(typeof layoutConfiguration.showPrintLink!=="undefined"&&layoutConfiguration.showPrintLink){h=layoutConfiguration.showPrintLink}if(typeof layoutConfiguration.showSaveLink!=="undefined"&&layoutConfiguration.showSaveLink){f=layoutConfiguration.showSaveLink}if(typeof layoutConfiguration.showEmailLink!=="undefined"&&layoutConfiguration.showEmailLink){g=layoutConfiguration.showEmailLink}if(h||f||g){j.removeClass(e);if(h){c.show()}else{c.hide()}if(f){k.show()}else{k.hide()}if(g){d.show()}else{d.hide()}}else{j.addClass(e)}}else{j.addClass(e)}},bindPrintLinks:function(){jQuery("#cmlink_SavePrintRecord").off(".cbolui-print").on("click.cbolui-print",function(){citiGlobal.common.printRecordModule.savePrintRecord()});jQuery("#cmlink_EmailPrintRecord").off(".cbolui-print").on("click.cbolui-print",function(){citiGlobal.common.printRecordModule.emailPrintRecord()})}}}()),initialPageSetupModule:(function(){var d=0,c=false;return{callRewards:function(h,j){if(typeof(h)!="undefined"){var f=h.indexOf("_");f++;var g=h.substring(f,h.length);if(typeof(g)!="undefined"){if(typeof(j)!="undefined"){var e=contextPath+"/CBOL/rwl/rewsso/flow.action?accountInstanceId="+g+"&TTC="+j}jQuery.ajax({url:e,cache:false,type:"post",dataType:"script",success:function(l,m,k){}})}}},setUpJamp:function(g,j){if(!citiGlobal.common.formUtilitiesModule.recoverableError&&(j===true||typeof j==="undefined")){a.scrollTo(0,0)}var f,h=jQuery("#CBOLSpinner"),e=125;jQuery(document).off(".cbolui-jamp").on("ajaxStart.cbolui-jamp",function(){f=true;setTimeout(function(){if(f&&jQuery("#InterdictionOverlayContent-parent").index()==-1){h.jfpwidget("block",g);jQuery("#CBOLSpinner_Text").removeClass("cbolui-hidden");b(".blockUI.blockMsg.blockElement").css("top","400px")}},e)}).on("ajaxStop.cbolui-jamp",function(){f=false;h.jfpwidget("unblock")})},blockIEBeforeUnload:function(){if(jQuery("html").hasClass("bIE")){jQuery("body").on("click.cbolui-beforeUnloadFix","a[href*='void(0)']",function(f){f.preventDefault()})}},initializePageSetup:(function(){jQuery.ajaxSetup({cache:true});a.unbindAllEvents=function(){citiGlobal.common.formUtilitiesModule.unbindLeaveConfirmation()};jQuery(document).ajaxStop(function(){citiGlobal.common.headerPrintLinksModule.refresh();if(CJW&&CJW.jfp&&CJW.jfp.cookie&&CJW.jfp.cookie.sessionCheck){CJW.jfp.cookie.sessionCheck.onload()}citiGlobal.common.commonAjaxErrorHandler.getErrorUrl()});jQuery(document).ready(function(){citiGlobal.common.headerPrintLinksModule.refresh();citiGlobal.common.headerPrintLinksModule.bindPrintLinks();citiGlobal.common.siteCatalystModule.bindUserEventsForSiteCatalyst();citiGlobal.common.initialPageSetupModule.blockIEBeforeUnload()});if(!a.console&&c){console={log:function(e){if(d==0){jQuery("body").append('<ul id="log" style="position: absolute; top: 0; left: 0;"></ul>')}jQuery("#log").append('<li style="display: block; float: none;">console log '+d+": "+e+"</li>");d++}}}}())}}()),domManipulationModule:(function(){return{repairHtmlMarkupString:function(d){if(jQuery.browser.msie||(navigator.userAgent&&-1!=navigator.userAgent.indexOf("Trident/"))){var c=jQuery(d);c.html(c.html().replace(/>[ \t\r\n\v\f]*</g,"><"))}}}}()),rbaUtilitiesModule:(function(){function c(e,d){if(e.response=="ACCEPT"||e.response=="REVIEW"||e.response=="NONE"||e.response=="challenge"||(e.response=="challenge"&&e.isAjax=="true")){rbaAjax=jQuery.ajax({url:d,type:"POST",async:false,success:function(f){e=f},error:function(){}});return e}else{if(e.response=="DENY"){a.location=d}else{jQuery.post(d,function(f){jQuery("body").html(f)})}}}return{handleRBAResponse:function(e,f,d){if(typeof rbaAjax!="undefined"){rbaAjax.abort()
}if(f.getResponseHeader("content-type")!=null&&f.getResponseHeader("content-type").indexOf("json")>-1){return c(e,d)}else{return e}}}}()),clientValidationModule:(function(){function d(h){if(jQuery.trim(h.val())==""){return true}else{return false}}function e(j,k,h){var l=j.val(),m=l.length;if(h){m=jQuery.trim(l).length}return m>k}function g(j,k,h){var l=j.val(),m=l.length;if(h){m=jQuery.trim(l).length}return m<k}function c(j,l){var k=j.val(),h=new RegExp(l);return !h.test(k)}function f(q,t,u,w){var k=false,r=new Array();for(var o=0;o<q.length;o++){var p=jQuery("#"+q[o]),x=q[o],n=t[x];if(n.clientValidationRequired){var j=jQuery("input:radio[name='"+x+"']").length,h=jQuery("select[id='"+x+"']").length;for(var v in n){k=false;if(n[v]!=null){switch(v){case"mandatoryValidation":if(n[v].clientValidation){if(h!=0){if(p.val()===""||p.val()==="0"||p.val()===0){r.push({fieldId:x,error:u[x+"RequiredMsg"]})}}else{if(j!=0){if(typeof jQuery("input:radio[name='"+x+"']:checked").val()==="undefined"){radioID=jQuery("input:radio[name='"+x+"']")[0].id;r.push({fieldId:radioID,error:u[x+"RequiredMsg"]})}k=true}else{if(d(p)){r.push({fieldId:x,error:u[x+"RequiredMsg"]});k=true}}}}break;case"lengthValidation":if(n[v].clientValidation&&jQuery.trim(p.val()).length!=0){var m=n[v].minLength,l=n[v].maxLength;if(m!=-1&&g(p,m,jQuery.trim(n[v]))){r.push({fieldId:x,error:u[x+"LengthMsg"]});k=true}else{if(l!=-1&&e(p,l,jQuery.trim(n[v]))){r.push({fieldId:x,error:u[x+"LengthMsg"]});k=true}}}break;case"regexValidation":if(n[v].clientValidation&&jQuery.trim(p.val()).length!=0){if(n[v].convertToUpperCase){p.val(p.val().toUpperCase())}if(c(p,n[v].regexValue)){r.push({fieldId:x,error:u[x+"RegularExpMsg"]});k=true}}break}}if(k){break}}}}if(r.length!=0){citiGlobal.common.formUtilitiesModule.renderFormTooltipErrors(w,r)}return r}return{validate:function(k,l,j){var h=new Array();if(k==null||k==""){return h}for(var m in k){h[h.length]=m}return f(h,k,l,j)}}}()),siteCatalystModule:(function(){function d(g){if(!(typeof s==="undefined")){s.contextData=[];if(s.selfServeType!=null&&s.selfServeType!=undefined){s.contextData.SELF_SERV_TYPE=s.selfServeType}s.contextData.SELF_SERV_DETAIL=g;s.t();s.contextData=[]}}function c(g){if(b(g).attr("data-scServeType")!=undefined){return b(g).attr("data-scServeType")}else{return b(g).attr("name")}}function f(h,g){if(g==="checkbox"){if(h.checked){return c(h)+" "+g+" checked"}else{return c(h)+" "+g+" unchecked"}}else{return c(h)+" "+g+" clicked"}}function e(h){if(h.tagName=="SELECT"){return}var j;if(h.tagName=="INPUT"){j=f(h,h.type)}else{if(b(h).hasClass("cM-infoIcon")||b(h).hasClass("cM-helpIcon")){var g="HELP BUBBLE";j=f(h,g)}else{j=f(h,h.tagName)}}d(j)}return{isSCTurnedOnFlag:false,linkZones:{},bindUserEventsForSiteCatalyst:function(){if(citiGlobal.common.siteCatalystModule.isSCTurnedOnFlag){jQuery("#appBody").on("click","input[data-scServeType],span[data-scServeType]",function(){e(this)});jQuery("#appBody").on("change","select[data-scServeType]",function(){serveDetailName=f(this,this.tagName);d(serveDetailName)});jQuery("#side-left-nav-menu").on("click scClick.siteCatalyst","a",function(){if(!(typeof s==="undefined")){s.contextData=[];s.linkTrackVars="eVar47,eVar23";s.linkTrackEvents="event16";s.eVar47=leftNavSCName+"_"+jQuery(this).text();s.eVar23=s.pageName;s.events="event16";s.tl(this,"o",s.eVar23+":"+s.eVar47)}});jQuery(document).on("click","a.cbolui-modules-sitecatalyst-key-link-trackable,button.cbolui-modules-sitecatalyst-key-link-trackable",function(){if(!(typeof s==="undefined")){s.contextData=[];if(jQuery(this).hasClass("cbolui-modules-sitecatalyst-key-link-zone1")){zoneName=citiGlobal.common.siteCatalystModule.linkZones.zone1+"_"}else{if(jQuery(this).hasClass("cbolui-modules-sitecatalyst-key-link-zone2")){zoneName=citiGlobal.common.siteCatalystModule.linkZones.zone2+"_"}else{if(jQuery(this).hasClass("cbolui-modules-sitecatalyst-key-link-zone3")){zoneName=citiGlobal.common.siteCatalystModule.linkZones.zone3+"_"}else{if(jQuery(this).hasClass("cbolui-modules-sitecatalyst-key-link-zone4")){zoneName=citiGlobal.common.siteCatalystModule.linkZones.zone4+"_"}else{zoneName=""}}}}s.linkTrackVars="eVar47,eVar23";s.linkTrackEvents="event16";s.eVar47=zoneName+jQuery(this).text();s.eVar23=s.pageName;s.events="event16";s.tl(this,"o",s.eVar23+":"+s.eVar47)}});jQuery(document).on("click","a.cbolui-modules-sitecatalyst-link-trackable,button.cbolui-modules-sitecatalyst-link-trackable",function(){if(!(typeof s==="undefined")){s.contextData=[];s.linkTrackVars="eVar25,events";s.linkTrackEvents="event30";s.eVar25=jQuery(this).text();s.events="event30";s.tl(this,"o",s.eVar25)}})}},setSiteCatalystValuesForErrorPages:function(h,g){if(!(typeof s==="undefined")&&citiGlobal.common.siteCatalystModule.isSCTurnedOnFlag){if(g!=null&&!(typeof g==="undefined")){if(g&&!(typeof recoverableLbl==="undefined")){h=recoverableLbl+h}else{if(!(typeof non_recoverableLbl==="undefined")){h=non_recoverableLbl+h}}}s.contextData=[];if(typeof _citidata!=="undefined"){_citidata.errorCode=h;_citidata.eventList="custError"}}},writeSiteCatalystForAJAXError:function(g,h){if(!(typeof s==="undefined")&&citiGlobal.common.siteCatalystModule.isSCTurnedOnFlag){s.contextData=[];if(h!=null&&!(typeof h==="undefined")&&h){s.linkTrackVars="contextData.recoverable_error,events";s.contextData.recoverable_error=g}else{s.linkTrackVars="contextData.nonRecoverable_error,events";s.contextData.nonRecoverable_error=g}s.linkTrackEvents="event9";if(typeof _citidata!=="undefined"){_citidata.eventList="custError"}s.tl(this,"o",g)}}}}())}}(window,window.jQuery));