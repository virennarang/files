var searchTextTJ="";var acountNameStr="";var resolverBalance="";var printerFriendly=(function(d,c){function h(){c("#searchTypeContent").empty();c("#searchKeywordContent").empty();c("#appliedFiltersContent").empty();c("#appliedCardFiltersContent").empty();c("#appliedPeriodContent").empty();var u="";var v="";var t="";var m="";var l="";c("#accountInformation").append((d.opener.$("#leftLabelValueContainer")).clone().wrap("<div/>").parent().html());c("#accountInformation").append((d.opener.$("#rightLabelValueContainer")).clone().wrap("<div/>").parent().html());if(d.opener.$("#transactionPanel").is(":visible")){c("#printerDisclosureChar").append(c(d.opener.document.getElementById("accountDisclaimer")).find(".cA-specialCharacter").html());c("#printerDisclosureText").append(c(d.opener.document.getElementById("accountDisclaimer")).find("#specialDisclaimerText").html());c("#printerDisclosureText").show()}else{c("#searchCriteriaMessage").hide()}c("#printerRewards").append(c(d.opener.document.getElementById("rewardsContainer")).find("#rewardsProgramName").clone().wrap("<div/>").parent().html());c("#printerRewards").append(c(d.opener.document.getElementById("rewardsContainer")).find(".cA-rewardsLabelValues").html());c("#printerRewards .cT-rewardsLabel:first").addClass("firstRewardvalue");if(c(d.opener.document.getElementById("searchCriteriaMessage")).html()&&c(d.opener.document.getElementById("searchCriteriaMessage")).is(":visible")){c("#searchMessage").show();c("#searchMessage").append(c(d.opener.document.getElementById("searchCriteriaMessage")).html())}else{c("#searchMessage").hide()}c("#printerFriendlyContainer").find(".cM-tooltip").removeClass("cM-tooltip");if(d.opener.$("#accountDropdownSelect").jfpwidget("widget")){acountNameStr=d.opener.$("#accountDropdownSelect :selected").text();resolverBalance=acountNameStr.split("{0}")[1];if(acountNameStr.indexOf("{0}")!==-1){acountNameStr=acountNameStr.substr(0,acountNameStr.indexOf("{0}"))}if(acountNameStr.indexOf("{1}")!=-1){acountNameStr=acountNameStr.replace(/\{1\}/ig,"")}if(resolverBalance.indexOf("{SR}")>-1){var n=[];resolverBalance=resolverBalance.split("{SR}");for(var p=0;p<resolverBalance.length;p++){n.push('<span class = "secondaryResolver">'+resolverBalance[p]+"</span>")}resolverBalance=[];resolverBalance=n}}else{acountNameStr=d.opener.$("#accountSingle .cS-accountMenuAccount").text();resolverBalance=d.opener.$("#accountSingle .rightResolver").html()}var r=d.opener.$("#accountDetailsErrorContainer").html();c("#accountInformation #accountName").html(acountNameStr);if(resolverBalance){if(resolverBalance.length==2){for(var p=0;p<resolverBalance.length;p++){c(resolverBalance[p]).appendTo("#accountInformation .cS-accountMenuResolver")}}else{var q=/^[0]*$/;var o=resolverBalance.replace(/\D/g,"");if(q.test(o)){var s=resolverBalance.replace("-","");c("#accountInformation .cS-accountMenuResolver").html(s)}else{c("#accountInformation .cS-accountMenuResolver").html(resolverBalance)}}}c("#accountInformation #accountDetailsErrorContainer").html(r);var v="",u="",t="",l="";if(printerFriendly.searchProperties.appliedKeyword){v="-&nbsp;"+c("#searchKeyword").html()+"&nbsp;";v+=(printerFriendly.searchProperties.appliedKeyword||"")}if(printerFriendly.searchProperties.appliedPeriod){c("#appliedPeriodContent").show();l="-&nbsp;"+c("#appliedPeriod").html()+"&nbsp;";if(printerFriendly.searchProperties.filterType&&(printerFriendly.searchProperties.filterType==="DATE")&&printerFriendly.searchProperties.appliedSearch.fromValue){l+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.fromValue}else{if(printerFriendly.searchProperties.filterType&&printerFriendly.searchProperties.filterType==="DATERANGE"&&printerFriendly.searchProperties.appliedSearch.fromValue&&printerFriendly.searchProperties.appliedSearch.toValue){l+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.fromValue;l+=" - "+printerFriendly.searchProperties.appliedSearch.toValue}else{l+=(printerFriendly.searchProperties.appliedPeriod||"")}}}else{if(printerFriendly.searchProperties.appliedSearch&&printerFriendly.searchProperties.appliedSearch.searchType){u="-&nbsp;"+c("#searchType").html()+"&nbsp;";u+=printerFriendly.searchProperties.appliedSearch.searchType;if((d.opener.$("#specificDate").is(":visible")&&d.opener.$("#dateSearchType").text()=="Specific")||(d.opener.$("#specificCheck").is(":visible")&&d.opener.$("#checkSearchType").text()=="Specific")||(d.opener.$("#specificAmount").is(":visible")&&d.opener.$("#amountSearchType").text()=="Specific")||(d.opener.$("#specificRef").is(":visible")&&d.opener.$("#refSearchType").text()=="Specific")){u+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.fromValue}else{if(printerFriendly.searchProperties.appliedSearch.fromSpecific!=""&&printerFriendly.searchProperties.appliedSearch.toSpecific!=""){u+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.fromValue+" - "+printerFriendly.searchProperties.appliedSearch.toValue}else{if(printerFriendly.searchProperties.appliedSearch.fromSpecific!=""){u+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.fromValue}else{u+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.toValue}}}}}if(printerFriendly.searchProperties.appliedFilters.card.value!=="ALLCARDS"&&printerFriendly.searchProperties.appliedFilters.card.value!==""){t="-&nbsp;"+c("#appliedFilters").html()+"&nbsp;";t+=(printerFriendly.searchProperties.appliedFilters.card.label||"")}if(printerFriendly.searchProperties.appliedFilters.activityType.value!=="ALL"){m="-&nbsp;"+c("#appliedFilters").html()+"&nbsp;";m+=(printerFriendly.searchProperties.appliedFilters.activityType.label||"")}c("#searchTypeContent").append(u);c("#searchKeywordContent").append(v);c("#appliedFiltersContent").append(t);c("#appliedCardFiltersContent").append(m);c("#appliedPeriodContent").append(l);c("#printerFriendlyContainer #postedTansactionTable").css("display","table");c("#pageWrapper").width("660px");c("#pageWrapper #header").width("auto");c("#pageWrapper #bodyWrapper").width("auto");c("#pageWrapper #bodyWrapper #appBody").width("auto");c("#printFriendlyPrint > a").click(function(){d.print()});c("#printFriendlyClose > a").click(function(){d.close()})}function j(){var l="",A="",y="";c("#accountInformation").append((d.opener.$("#leftLabelValueContainer")).clone().wrap("<div/>").parent().html());c("#accountInformation").append((d.opener.$("#rightLabelValueContainer")).clone().wrap("<div/>").parent().html());c("#printerRewards").append(c(d.opener.document.getElementById("rewardsContainer")).find("#rewardsProgramName").clone().wrap("<div/>").parent().html());c("#printerRewards").append(c(d.opener.document.getElementById("rewardsContainer")).find(".cA-rewardsLabelValues").html());c("#printerRewards .cT-rewardsLabel:first").addClass("firstRewardvalue");if(!(d.opener.$("#transactionPanel").is(":visible"))){c("#searchCriteriaMessage").addClass("cM-hide");c("#searchMessage").addClass("cM-hide")}if(c("#searchMessage").html()!=""){c("#searchMessage").removeClass("cM-hide")}else{c("#searchMessage").addClass("cM-hide")}c("#printerFriendlyContainer").find(".cM-tooltip").removeClass("cM-tooltip");var m=d.opener.$("#accountDropdownSelect :selected").text();var n=d.opener.$("#accountSingle").text();var o;var z;var x;if(d.opener.$("#accountDropdownSelect").jfpwidget("widget")){o=d.opener.$("#accountDropdownSelect :selected").text();z=o.split("{0}")[1];if(o.indexOf("{0}")!==-1){o=o.substr(0,o.indexOf("{0}"))}if(o.indexOf("{1}")!=-1){o=o.replace(/\{1\}/ig,"")}if(o.indexOf("Current")!==-1){o=o.substr(0,o.indexOf("Current"))
}if(z.indexOf("{SR}")>-1){var q=[];z=z.split("{SR}");for(var s=0;s<z.length;s++){q.push('<span class = "secondaryResolver">'+z[s]+"</span>")}z=[];z=q}}else{o=d.opener.$("#accountSingle .cS-accountMenuAccount").text();z=d.opener.$("#accountSingle .rightResolver").html()}var p=d.opener.$("#accountDetailsErrorContainer").html();c("#accountInformation #accountName").html(o);if(z.length==2){for(var s=0;s<z.length;s++){c(z[s]).appendTo("#accountInformation .cS-accountMenuResolver")}}else{var t=/^[0]*$/;var r=z.replace(/\D/g,"");if(t.test(r)){var u=z.replace("-","");c("#accountInformation .cS-accountMenuResolver").html(u)}else{c("#accountInformation .cS-accountMenuResolver").html(z)}}c("#accountInformation #accountDetailsErrorContainer").html(p);c("#printerFriendlyContainer #postedTansactionTable").css("display","table");c("body").width("908px");var w="";d.opener.$(".cA-sb-selectedText").each(function(){w=w+"&nbsp;"+c(this).html()});if(w){A="-&nbsp;"+c("#searchKeyword").html()+"&nbsp;";A+=(w||"")}else{if(d.opener.$("#invSearchKeywordBox").is(":visible")){w=d.opener.$("#invSearchKeywordBox").val()}else{if(d.opener.$("#searchKeywordBoxTJ").is(":visible")){w=d.opener.$("#searchKeywordBoxTJ").val()}}if(w!==""&&w!==null&&w!==undefined&&w!==d.opener.$("#keysearchDefaultValue").html()&&printerFriendly.accountDetailsInvestmentProperties.keywordGoFlag!=false){A="-&nbsp;"+c("#searchKeyword").html()+"&nbsp;";A+=(w||"")}else{if(w!==""&&w!==null&&w!==undefined&&printerFriendly.accountDetailsInvestmentProperties.keywordGoFlag==false&&printerFriendly.accountDetailsInvestmentProperties.cacheKeywordEntered!=""&&printerFriendly.accountDetailsInvestmentProperties.cacheKeywordEntered!=d.opener.$("#keysearchDefaultValue").html()&&printerFriendly.accountDetailsInvestmentProperties.cacheKeywordEntered!==undefined){A="-&nbsp;"+c("#searchKeyword").html()+"&nbsp;";A+=(printerFriendly.accountDetailsInvestmentProperties.cacheKeywordEntered||"")}}}if(printerFriendly.accountDetailsInvestmentProperties.selectedFilterName){c("#selectedFilterText").show();c("#selectedFilterText .invFilterText").text(printerFriendly.accountDetailsInvestmentProperties.selectedFilterName)}if(printerFriendly.accountDetailsInvestmentProperties.productFilterName){c("#productFilterText").show();c("#productFilterText .invFilterText").text(printerFriendly.accountDetailsInvestmentProperties.productFilterName)}if(printerFriendly.accountDetailsInvestmentProperties.appliedPeriod!==undefined&&printerFriendly.accountDetailsInvestmentProperties.appliedPeriod!==""&&printerFriendly.accountDetailsInvestmentProperties.appliedPeriod!==null){c("#appliedPeriodContent").show();l=c("#appliedPeriod").html()+"&nbsp;-";if(printerFriendly.accountDetailsInvestmentProperties.appliedPeriod==="SpecificDate"){if(d.opener.$("#specificDateDropdown").val()!==""&&d.opener.$("#specificDateDropdown").val()!==null&&d.opener.$("#specificDateDropdown").val()!==undefined){l+="&nbsp;"+d.opener.$("#specificDateDropdown").val()}}else{if(printerFriendly.accountDetailsInvestmentProperties.appliedPeriod==="DateRange"){if(d.opener.$("#dateRangeFrom").val()!==""&&d.opener.$("#dateRangeFrom").val()!==null&&d.opener.$("#dateRangeFrom").val()!==undefined&&d.opener.$("#dateRangeTo").val()!==""&&d.opener.$("#dateRangeTo").val()!==null&&d.opener.$("#dateRangeTo").val()!==undefined){l+="&nbsp;"+d.opener.$("#dateRangeFrom").val()+"&nbsp;-&nbsp;"+d.opener.$("#dateRangeTo").val()}}else{l=l+"&nbsp;"+(printerFriendly.accountDetailsInvestmentProperties.appliedPeriod||"")}}c("#appliedPeriodContent").append(l)}else{if(printerFriendly.searchProperties.appliedSearch&&printerFriendly.searchProperties.appliedSearch.searchType){var v=printerFriendly.searchProperties.appliedSearch.searchType;searchTextTJ=c("#searchType").html()+"&nbsp;";searchTextTJ+=printerFriendly.searchProperties.appliedSearch.searchType;if(v==="amountRange"){if(printerFriendly.searchProperties.appliedSearch.fromValue&&printerFriendly.searchProperties.appliedSearch.toValue){searchTextTJ+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.fromValue+" - "+printerFriendly.searchProperties.appliedSearch.toValue}else{if(printerFriendly.searchProperties.appliedSearch.fromValue){searchTextTJ+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.fromValue}else{if(printerFriendly.searchProperties.appliedSearch.toValue){searchTextTJ+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.toValue}}}}else{if(v==="orderStatus"){searchTextTJ+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.orderStatus}else{if(v==="marketSearch"){searchTextTJ+="&nbsp;"+printerFriendly.searchProperties.appliedSearch.marketStatus}}}}}if(printerFriendly.accountDetailsInvestmentProperties.marketFilterName){c("#marketFilterText").show();c("#marketFilterText .invFilterText").text(printerFriendly.accountDetailsInvestmentProperties.marketFilterName)}c("#searchTypeContent").append(y);c("#searchKeywordContent").append(A);c("#searchTJ").append(searchTextTJ);if(c.trim(c("#searchTJ").text())===""||c.trim(c("#searchTJ").text())===null||c.trim(c("#searchTJ").text())===undefined){c("#searchTypeContent").addClass("cM-hide")}}function a(){if(printerFriendly.searchProperties.discMortagage){c("#disclosureMortgage").html(printerFriendly.searchProperties.discMortagage);c("#disclosureMortgage").removeClass("cM-Hide")}if(d.opener.$("#amortizationHeader").length>0&&d.opener.$("#amortizationHeader").is(":visible")){c("#amortTableHeader").html((d.opener.$("#amortizationHeader")).html());c("#amortTableHeader").removeClass("cM-hide")}else{c("#amortTableHeader").addClass("cM-hide")}c("#transactionPanel").html((d.opener.$("#transactionPanel")).html());if(c("#mortgagetableerrorbottom").length>0){c(".cT-mortgageTable").css("margin-bottom","20px")}else{c(".cT-mortgageTable").css("margin-bottom","0px")}c.each(c("#printerFriendlyContainer .cT-sortArrow"),function(){if(c(this).parent().parent().parent().hasClass("sorter-false")){}else{if(c(this).parent().parent().parent().hasClass("cT-headerSortUp")){c(this).replaceWith(c('<div class="cA-outerSortContainerImg"><img src="/JFP/images/widgets/jfpw-lightgrid-asc.gif" class="cA-printUpSort"></div>'))}else{if(c(this).parent().parent().parent().hasClass("cT-headerSortDown")){c(this).replaceWith(c('<div class="cA-outerSortContainerImg"><img src="/JFP/images/widgets/jfpw-lightgrid-desc.gif" class="cA-printDownSort"></div>'))}else{if(c(this).parent().parent().parent().hasClass("cT-sortableHeader")){c(this).replaceWith(c('<div class="cA-outerSortContainer"><img src="/JFP/images/global_sprite.png" class="cA-printNoSort"></div>'))}}}}})}function b(){c("#transactionPanel").html((d.opener.$("#printerFriendlyDetails")).html());c(".PremiumHelpSection").hide();c(".cA-invTJHelpSection").hide();c.each(c("#printerFriendlyContainer .cT-sortArrow"),function(){if(c(this).parent().parent().parent().parent().hasClass("sorter-false")){}else{if(c(this).parent().parent().parent().parent().hasClass("cT-headerSortUp")){c(this).replaceWith(c('<div class="cA-outerSortContainerImg"><img src="/JFP/images/widgets/jfpw-lightgrid-asc.gif" class="cA-printUpSort"></div>'))}else{if(c(this).parent().parent().parent().parent().hasClass("cT-headerSortDown")){c(this).replaceWith(c('<div class="cA-outerSortContainerImg"><img src="/JFP/images/widgets/jfpw-lightgrid-desc.gif" class="cA-printDownSort"></div>'))}else{if(c(this).parent().parent().parent().parent().hasClass("cT-sortableHeader")){c(this).replaceWith(c('<div class="cA-outerSortContainer"><img src="/JFP/images/global_sprite.png" class="cA-printNoSort"></div>'))
}}}}});c.each(c("#printerFriendlyContainer #postedTansactionTablePrint  table"),function(){if(c(this).find("tbody tr:visible").length===0){c(this).hide()}});c.each(c("#printerFriendlyContainer #postedTansactionTablePrint table  tr"),function(){if(!(c("#postedTansactionTablePrint table").hasClass("cT-invTJTable"))){c(this).find("th").each(function(){if((c(this).data("columnid")=="TransactNow")||(c(this).data("columnid")=="Details")){c(this).hide()}})}c(this).find("td").each(function(){if(c(this).find("a").length!==0||c(this).find("div.cA-actionFlyOut").length!==0){c(this).hide()}})});c("#postedTansactionTablePrint #invAccountsTablePrint table").each(function(){var l=c(this).find("th");for(i=0;i<l.length;i++){if(c(l[i]).attr("class").split(" ").indexOf("cT-numberColumn")>-1){var k=i+1;c(this).find("tr").each(function(){c(this).find("td:nth-child("+k+")").addClass("cA-amtLineColumn")})}}})}function e(){h();if(d.opener.$("#transactionPanel").is(":visible")){a()}}function f(){j();if(d.opener.$("#transactionPanel").is(":visible")){b()}}function g(l){for(var k in l){return false}return true}return{init:function(){if(d.opener.accountDetails.categoryType==="INV"){c("#printerFriendlyContainer").addClass("ADAInvestmentPrinter");f()}else{e()}}}}(window,window.jQuery));